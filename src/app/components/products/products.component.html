
<section *ngIf="allProducts.length > 0">
    <div class="container">
        <h2 class="text-center my-2">All Products</h2>

    <div class="row g-4 justify-content-center ">
        <div *ngFor="let product of allProducts | paginate: { id: 'productPaginate',
        itemsPerPage: pageSize,
        currentPage: currentPage,
        totalItems: total }"
         class="col-sm-6 col-md-4 col-lg-3 col-xl-2 mb-4 p-2">
            <div class="product p-2">
    
                <header role="button" [routerLink]="['/productdetails' , product._id]">
                    <img class="w-100" [src]="product.imageCover" [title]="product.title" [alt]="product.title">
                    <span class="text-main">{{product.category.name}}</span>
                    <h1 class="h6 fw-bold">{{product.title.split(" ").slice(0,2).join(" ")}}</h1>
                    <div class="d-flex justify-content-between">
                        <span>{{product.price}}EGP</span>
                        <span><i class="fa-solid fa-star rating-color px-1"></i>{{product.ratingsAverage}} </span>
                    </div>
                </header>

            </div>
            <footer>
                <button (click)="addProduct(product._id , btnAdd)" #btnAdd class="btn bg-main d-block text-white w-100 my-2">Add</button>

            </footer>
        </div>
    </div>

       
    </div>

    <div class="d-flex justify-content-center">
        
         <pagination-controls  id="productPaginate" 
            (pageChange)="pageChanged($event)"
            (pageBoundsCorrection)="pageChanged($event)"
            [maxSize]="9"
            [directionLinks]="true"
            [autoHide]="true"
            [responsive]="true"
            previousLabel="Previous"
            nextLabel="Next"
            screenReaderPaginationLabel="Pagination"
            screenReaderPageLabel="page"
            screenReaderCurrentLabel="You're on page">
        </pagination-controls>
    </div>

</section>